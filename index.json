[
{
	"uri": "https://gerundium.github.io/homelab_setup/highlevel/",
	"title": "2.1 High level view",
	"tags": ["Homelab Setup", "high-level-view"],
	"description": "",
	"content": "State/Version: 20230829p1\n 2.1 High level view   2.1 High level view   Hardware, that belongs to the \u0026ldquo;Management\u0026rdquo; segment, knows routes into the other network segments and provides internet connectivity. Hardware grouped in IoT (Internet of Things/Trash) segment is considered as untrusted and therefore cannot connect to other network devices. It still can be controled via internet.  "
},
{
	"uri": "https://gerundium.github.io/k8s_ha_cluster/overview/",
	"title": "3.1 Overview",
	"tags": ["k8s", "Overview"],
	"description": "",
	"content": " State/Version: 20231126  3.1 Overview 3.1.1 A few words before we start Setting up a home lab takes time. The construction or renovation of a house is comparable in scope and complexity. In the end, you not only know where the pipes run, but also what you can do better when building the next one.\nIn addition to expertise, two character traits in particular are required to master a project like this.\nPatience and Persistence\n3.1.2 Tech skills #loadbalancer #metallb #nat #proxy-server #vlan #nat #network-bridging #yaml #json #traefik #nginx #etcd #gitops #fluxcd #terraform #ansible #proxmox #virtualbox #kustomize #helm #k3s #k8s #k3d #k9s #cloudflare #certmanager #letsencrypt #longhorn #sealed-secrets #dns #ipam\n3.1.2 State of automation    Topic Degree of automation     Provisioning - Virtualbox Full   Provisioning - Virtualbox Full   Provisioning - Proxmox Full *1 *2   Provisioning - Docker Full   K8s Deployment - Virtualbox Full   K8s Deployment - Proxmox Full   K8s Deployment - Docker Full   GitOps Fluxcd - Virtualbox Full   GitOps Fluxcd - Proxmox Full   GitOps Fluxcd - Docker Full   Legend    *1 Terraform Proxmox Plugin is currently broken   *2 No tech demo (Because of *1)   *3 Talos bootstrapping is manuall    3.1.3 Workflow Let\u0026rsquo;s flow through the setup.\n3.1.4 Current Setup Development Cluster\nThe Development Cluster (#Virtualbox) is provisioned and bootstraped with #Ansible\n 1x Controlplane(s) 2x Worker nodes  Staging Cluster\nThe Staging Cluster (#Proxmox) is provisioned with #Terraform and bootstraped with #Ansible.\n 3x Controlplane(s) 2x Worker nodes  Production Cluster\nThe Production Cluster (#VPS) is provisioned manually as virtual machine at contabo and bootstraped with #Ansible.\n 1x Loadbalancer 1x Controlplane(s) 2x Worker nodes  "
},
{
	"uri": "https://gerundium.github.io/homelab_setup/hardware/",
	"title": "2.2 Hardware",
	"tags": ["Hardware"],
	"description": "",
	"content": "State/Version: 20230829p1\n 2.2 Hardware   2.2.0 Baseline  2.2.0.1 Homelab Tier Ratings   2.2.1 Computing node 2.2.2 Managed Switch 2.2.3 Router 2.2.4 Raspberry Pi    2.2 Hardware  2.2.0 Baseline 2.2.0.1 Homelab Tier Ratings  Tier 0:  A completely fault-tolerant hardware with redundancy for every component. Is crucial for the project. IaaC (Infrastructure as a Code) (if capable). Is part of the backup conzept.   Tier 1:  Is crucial for the project. IaaC (Infrastructure as a Code) (if capable). Is part of the backup conzept.   Tier 2:  Is crucial for the project. No backups Easy to replace   Tier 3:  Is optional to run the project. Hardware runs experimental services Failures have no impact on other components.    2.2.1 Computing node  Kiebel Micro X12  Tier 1 2x Kingston FURY Beast 32GB, DDR4-3200 MHz Intel Core i7-12700, 12x2.1 GHz Kingston 1TB NV2 M.2 SSD PCIe 4.0    2.2.2 Managed Switch  TP-Link TL-SG116E  Tier 2    2.2.3 Router  Mikrotik RB951Ui  Tier 1    2.2.4 Raspberry Pi  Raspberry Pi 4b (4GB RAM)  Tier2    "
},
{
	"uri": "https://gerundium.github.io/k8s_ha_cluster/provisioning/",
	"title": "3.2 Provisioning the Kubernetes nodes",
	"tags": ["k8s", "provisioning", "tbd"],
	"description": "",
	"content": " State/Version: 20231126  3.2 Provisioning the k8s nodes 3.2.1 Development cluster The Development Cluster runs on #Virtualbox. Because I haven\u0026rsquo;t found a solution that fits my prequisites I wrote my own Ansible roles. You can find the Ansible playbook in this repository: https://github.com/gerundium/k8s-homelab.git\nAnsible/roles ├── create_virtualbox_vms ├── delete_virtualbox_vms ├── finalize_provisioning_virtualbox_vms └── post_provisioning_virtualbox_vms 3.2.2 Staging cluster The Staging Cluster runs as a set of virtual machines on a #Proxmox host. The Terraform source code is also stored in this repository https://github.com/gerundium/k8s-homelab.git\nTerraform ├── main.tf └── vars.tf 3.2.3 Production cluster The Production Cluster is a set of docker containers orchestrated by k3d.\n"
},
{
	"uri": "https://gerundium.github.io/homelab_setup/network/",
	"title": "2.3 Network",
	"tags": ["Network"],
	"description": "",
	"content": "State/Version: 20230829p1\n 2.3 Network topology  2.3.1 Overview    2.3 Network topology 2.3.1 Overview See also: High level view\n   Network CIDR Project Type     192.168.2.0/24 Homelab / compute static   192.168.3.0/24 Homelab / storage static    "
},
{
	"uri": "https://gerundium.github.io/k8s_ha_cluster/deployment/",
	"title": "3.3 Deploy Kubernetes",
	"tags": ["k8s", "deployment", "tbd"],
	"description": "",
	"content": " State/Version: 20231126  3.3 Deploy Kubernetes Once the stage is prepared kubernetes can deployed.\n3.3.1 Development cluster  #toBeDone\n 3.3.2 Staging cluster  Automated build of HA k3s Cluster with kube-vip and MetalLB  3.3.3 Production cluster  K3s Homepage  # Create the k8s cluster k3d cluster create --api-port 6550 -p \u0026#34;8081:80@loadbalancer\u0026#34; --agents 2 "
},
{
	"uri": "https://gerundium.github.io/k8s_ha_cluster/gitops/",
	"title": "3.4 GitOps: Install and configure FluxCD",
	"tags": ["k8s", "gitops", "tbd"],
	"description": "",
	"content": " State/Version: 20231126  3.4 GitOps: Install and configure FluxCD Installing and Configuring FluxCD is the easiest part ( if you do not mess up your dns setup :] ).\nThis will install Flux into the cluster and connect it to the specified git repository. You have to repeat it for every cluster you want to manage.\nexport GITHUB_TOKEN=\u0026lt;PersonalAccessToken\u0026gt; export GITHUB_USER=gerundium flux bootstrap github \\  --token-auth \\  --owner=gerundium \\  --repository=flux-k2 \\  --path=clusters/\u0026lt;STAGE\u0026gt; \\  --personal \\  --branch main Now your Kubernetes cluster knows how and where to pull Kubernetes resources from.\n4.1 GitOps: Deploy Apps  #toBeDone\n "
},
{
	"uri": "https://gerundium.github.io/homelab_setup/storage/",
	"title": "2.4 Storage",
	"tags": ["Storage"],
	"description": "",
	"content": "State/Version: 20230829p1\n 2.4 Storage  2.4.1 Overview    2.4 Storage 2.4.1 Overview  The compute storage is located as local-lvm on the compute node. Backups are located on a NFS-Volume providet by a RaspberryPi.  %%{init: {\"flowchart\": {\"htmlLabels\": false}} }%% flowchart LR subgraph Proxmox-Host subgraph Proxmox-Storageprovider localDisk[\"`_localDisk_: local: (type: Directory) local-lvm: (type: LVM) `\"] RaspberryPi[\"`_RaspberryPi_: nfs-rpi: (type: NFS) `\"] end localDisk -- Backup -- RaspberryPi Container -- OS -- localDisk end  "
},
{
	"uri": "https://gerundium.github.io/homelab_setup/virtualization/",
	"title": "2.5 Virtualization",
	"tags": ["Homelab Setup", "Virtualization", "Proxmox", "Infrastructure"],
	"description": "",
	"content": "State/Version: 20230829p1\n 2.5 Proxmox   2.5.0 Reference 2.5.1 Setup   2.5.1.1 Installation Process 2.5.1.2 Web Console Overview 2.5.1.3 User Management 2.5.1.4 Backups and Snapshots 2.5.1.5 DNS 2.5.1.6 Provisioning 2.5.1.7 Subscription   2.5.2 Maintenance     2.5 Proxmox   Proxmox Virtual Environment  Compute, network, and storage in a single solution    2.5.0 Reference  Proxmox Full Course  2.5.1 Setup  2.5.1.1 Installation Process  Reference: Proxmox VE Full Course: Class 2 - Installation Process   Create bootable Proxmox USB-Stick Install Proxmox on your Hardware  2.5.1.2 Web Console Overview 2.5.1.3 User Management  The Homelab is currently running with local user accounts. The provisioning process prerequisites root account for container deployments.  2.5.1.4 Backups and Snapshots  Proxmox runs daily backups. The backup destination is a Raspberry Pi running in a separate Storage Network.  2.5.1.5 DNS  This lab runs it\u0026rsquo;s own name servers. They will be installed and configuered via Ansible Semaphore. No manual Changes!  2.5.1.6 Provisioning  How to create container templates  This procedure was used to provision the Kubernetes HA-Cluster.    2.5.1.7 Subscription  I\u0026rsquo;m using the community version of Proxmox. For PVE and Ceph the \u0026ldquo;no-subscription repositories\u0026rdquo; are enabled.   2.5.2 Maintenance   manual patching schedule: weekly-monday  Can be automated easily by switching to Ansible (Semaphore). Triggered manually untill December 2023 to get more experience with it.  "
},
{
	"uri": "https://gerundium.github.io/introduction/",
	"title": "Introduction",
	"tags": ["Introduction"],
	"description": "",
	"content": "Topics  Documentation  About the author About this blog    ANSIBLE (1)   DEPLOYMENT (1)   DOCUMENTATION (2)   GITOPS (1)   HARDWARE (1)   HIGH-LEVEL-VIEW (1)   HOME (3)   HOMELAB SETUP (3)   INFRASTRUCTURE (1)   INTRODUCTION (1)   K8S (5)   NETWORK (1)   OVERVIEW (1)   PROVISIONING (1)   PROXMOX (1)   STORAGE (1)   TBD (3)   VEGAN (1)   VIRTUALIZATION (1)       "
},
{
	"uri": "https://gerundium.github.io/",
	"title": "Welcome",
	"tags": ["home"],
	"description": "",
	"content": "Welcome friend This blog is a personal proof of concept into DevOps in a home laboratory environment, covering Kubernetes, GitOps, and Proxmox. All with a focus on full automation.\nInspiration Let me start with a big THANK YOU! to you guys\n Techno Tim (@timothystewart6) Marcel Dempers (@marcel-dempers) Christian Lempa (@ChristianLempa)  You made it much easier for me to get started with many topics and for the many \u0026ldquo;Oh, that\u0026rsquo;s how it works!\u0026rdquo; moments I am very grateful for.\nProject status  State/Version: 20231105p1  Focus  Type of audience: system administrators, devops engineers (#linux #devops #fluxcd #gitops #ansible #proxmox #terraform) Type of documentation: technical documentation  Requirements for my Homelab are:\n Low efford infrastructure  Every tool is easy to maintain by a single person.   Maximal high degree of automation  Everything as Code where possible    High level view  Introduction  Documentation  About the author About this blog     Homelab Setup  High level view Hardware Network Storage Virtualization Configuration Managament Kubernetes Cluster GitOps    "
},
{
	"uri": "https://gerundium.github.io/homelab_setup/configurationmanagement/",
	"title": "2.6 Configuration Management",
	"tags": ["Ansible"],
	"description": "",
	"content": "State/Version: 20230829p1\n 2.6 Configuration Management  2.6 Configuration Management  My \u0026ldquo;Configuration Management\u0026rdquo; tool of choice is Ansible (Semaphore) The HomeLab uses currently the following playbooks to automate common administration tasks:  private github repo       Playbook Purpose     apt-upgrade Keep the infrastructure containers (Ansible, bind9) up to date.   bind9 Install and manage bind9.   nfs-server Install and manage nfs-server.   pagerduty-alerts Trigger alerts for specific actions (e.g. Server needs reboot\u0026hellip;)   traefik Reverse Proxy and Application Gateway    "
},
{
	"uri": "https://gerundium.github.io/homelab_setup/",
	"title": "Homelab Setup",
	"tags": ["Homelab Setup"],
	"description": "",
	"content": "Topics Homelab Setup  High level view Hardware Network Storage Virtualization Configuration Management GitOps    "
},
{
	"uri": "https://gerundium.github.io/k8s_ha_cluster/",
	"title": "K3s-HA-Cluster",
	"tags": ["k8s"],
	"description": "",
	"content": "Topics K3s-HA-Cluster  Overview Provisioning the Kubernetes nodes Deploy Kubernetes GitOps: Install and configure FluxCD GitOps: Deploy Apps    "
},
{
	"uri": "https://gerundium.github.io/vegan/",
	"title": "Go Vegan!",
	"tags": ["Vegan"],
	"description": "",
	"content": "Puh - that was a lot of information. Maybe it\u0026rsquo;s Time for a short brake. In case you are visiting Berlin you should try this locations https://www.veggievisa.com/vegan-food-guide-berlin/\nWhat? Why? How?  What is Veganism? Go vegan - why? how? Vegan Bingo Vegan facts Nutrition facts Watch Dominion  "
},
{
	"uri": "https://gerundium.github.io/introduction/documentation/",
	"title": "1.1 Documentation",
	"tags": ["home", "documentation"],
	"description": "",
	"content": "State/Version: 20230829p1\nTable of contents  Table of contents  1.1 About the author 1.2 About this blog  1.2.1 Creation process  1.2.1.1 Creation workflow        Skip the \u0026ldquo;Deep Dive\u0026rdquo; sections for a brief fly over.\n 1.1 About the author  Senor Linux system administrator, cluster operator (automate provision and configuration of clusters), platform engineer (build continuous delivery for developer teams) and HomeLab enthusiast Daily business: #devops #kubernetes #openshift #gitops #ansible Current place of residence: Berlin (Germany)  1.2 About this blog  This blog is built with hugo.  1.2.1 Creation process This section describes the ci/cd workflow that creates the gerundium.github.io blog.\n1.2.1.1 Creation workflow  Create content offline (braindump). Commit and push code changes, that are considered source code, to blog-source@github.  That event will not trigger any pipeline.\n Source code changes include manual changes to any directory except \u0026ldquo;/public\u0026rdquo;\n   Commit and push code changes, that are considered public blog, to blog-source@github.  That event will trigger the github actions pipeline.\n Public blog changes contain changes that are made to \u0026ldquo;/public\u0026rdquo; directory by executing \u0026ldquo;hugo\u0026rdquo; command\n    FlowChart flowchart LR 0 --|Push| A A --|Push| B   0) Laptop - private, local clone of blog-source@github A) blog-source@github - private, contains full hugo code B) blog-rendered@github - public, contains static (rendered) hugo html code  "
},
{
	"uri": "https://gerundium.github.io/introduction/documentationdeepdive/",
	"title": "1.2 Deep Dive",
	"tags": ["home", "documentation"],
	"description": "",
	"content": "State/Version: 20230829p1\n1.2.1.1 Creation workflow - Deep Dive Sequencediagram sequenceDiagram participant A as Laptop@local participant B as blog-source@github participant C as blog-rendered@github A-A: 1. Create content locally A-B: 2. Push code to blog-source@github Note over A, B: Commit action (push) will trigger \"Github Actions\" B-C: 3. Push static html from blog-source@github to blog-rendered@github (Github pages) via a \"Github Actions\"  1.2.2 Github setup    Alias Real world brief description     blog-source@github gerundium/gerundium.github.io-source This repository contains the full monty. Use it to create / render new content for your blog.   blog-rendered@github gerundium/gerundium.github.io This repository is linked as git submodule inside blog-source@github. It contains the rendered / static html files    # -- # Folder tree # -- ./blog-source@github ├── archetypes ├── content ├── data ├── layouts ├── public # blog-rendered@github (Git submodule) | ├── authors | ├── basics | ├── categories | ├── css | ├── fonts | ├── images | ├── js | ├── logo | ├── mermaid | ├── posts | ├── series | ├── tags | └── webfonts ├── resources ├── static └── themes 1.2.3 Step-by-step deployment  Apply changes to blog-source@github/content Build static html # Execute command on the laptop hugo  Commit changes in public submodule and push commit to blog-rendered@github # Git commit and push git add -A git commit -m \u0026#34;add: \u0026lt;specify cxhange\u0026gt;\u0026#34; git push  Wait a minute while build and deployment piplines run. Check if changes were deployed to github pages. gerundium.github.io  "
},
{
	"uri": "https://gerundium.github.io/tags/ansible/",
	"title": "Ansible",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://gerundium.github.io/categories/",
	"title": "Categories",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://gerundium.github.io/tags/deployment/",
	"title": "deployment",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://gerundium.github.io/tags/documentation/",
	"title": "documentation",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://gerundium.github.io/tags/gitops/",
	"title": "gitops",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://gerundium.github.io/tags/hardware/",
	"title": "Hardware",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://gerundium.github.io/tags/high-level-view/",
	"title": "high-level-view",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://gerundium.github.io/tags/home/",
	"title": "home",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://gerundium.github.io/tags/homelab-setup/",
	"title": "Homelab Setup",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://gerundium.github.io/tags/infrastructure/",
	"title": "Infrastructure",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://gerundium.github.io/tags/introduction/",
	"title": "Introduction",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://gerundium.github.io/tags/k8s/",
	"title": "k8s",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://gerundium.github.io/tags/network/",
	"title": "Network",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://gerundium.github.io/tags/overview/",
	"title": "Overview",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://gerundium.github.io/tags/provisioning/",
	"title": "provisioning",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://gerundium.github.io/tags/proxmox/",
	"title": "Proxmox",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://gerundium.github.io/tags/storage/",
	"title": "Storage",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://gerundium.github.io/tags/",
	"title": "Tags",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://gerundium.github.io/tags/tbd/",
	"title": "tbd",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://gerundium.github.io/tags/vegan/",
	"title": "Vegan",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "https://gerundium.github.io/tags/virtualization/",
	"title": "Virtualization",
	"tags": [],
	"description": "",
	"content": ""
}]